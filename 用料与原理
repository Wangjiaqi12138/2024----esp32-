
收音机物料：
合宙ESP32C3 *1
PCM5102A I2S协议音频解码板 *1
M1.6*3*2.5铜螺母 *4
M1.6*6十字螺丝 *4
3D打印外壳+上盖 *1
8*6洞洞板 *1
焊接用线若干

收音机简单原理：ESP32C3具有I2S协议输出引脚，I2S通信协议需要三个引脚BCK,LCK,DIN,可以定义在任意三个GPIO上。在程序中定义好网络音频流的IP地址和端口，这里我们使用ICECAST软件创建本地推流服务器，使用ffmpeg对本地MP3文件进行推流，模拟实现网络电台的广播端。 ESP32C3上电后，首先运行的是WIFI模块，WIFI模块自动连接到定义好的指定WIFI，连接完成后从网络位置获取音频流。由于MP3格式的音频流是一种压缩编码后的数据流，与I2S总线中传输的数字音频信号不同，因此我们使用ESP8266Audio库实现对网络拉取实施音频流的解码工作。ESP32C3在我们的项目中实质上承担了一个低功耗的音频文件软解码器的作用，输入的是MP3编码的数据，从引脚输出到I2S总线的是解码完成的数据，同理如果引入其他格式如无损编码flac的解码器，就可以使我们的项目升级为高保真的网络音频播放器。网络拉取音频流时，由于网络波动可能会导致卡顿影响收听体验，因此我们对音频流的收取采取了缓冲区的机制，通过填充缓冲区-播放同时填充下一缓冲区来使得音频尽量稳定。数字音频信号经过I2S引脚输出后，连接到PCM5102A解码板。PCM5102A是德州仪器开发的一款立体声DAC（数模转换器），支持最高384kHZ采样率和32bit的采样精度，完全能够胜任欣赏高品质音乐的需求。它能够将输入的数字信号转换为耳机工作需要的模拟信号。连接一个3.5mm接口的耳机设备就可以欣赏音乐了。
